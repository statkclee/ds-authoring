---
title: "Natural Language Processing (NLP) 활용한 R&D 효과증대"
subtitle: "한국산업기술진흥협회  「기술과혁신」 3/4월호"
description: |
  NLP is great
  
author:
  - name: 이광춘
    url: https://www.facebook.com/groups/tidyverse/
    affiliation: 삼정 KPMG
    affiliation_url: https://home.kpmg/kr/ko/home.html
date: "`r Sys.Date()`"
output: 
  distill::distill_article:
    toc: true
    toc_depth: 2
    highlight: tango
    number_section: true
bibliography: bibliography_authoring.bib
csl: biomed-central.csl
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning=FALSE, message=FALSE,
                    comment="", digits = 3, tidy = FALSE, prompt = FALSE, fig.align = 'center')
```

# 과학 패러다임의 전환

2020년 들어 가장 부각되고 있는 분야 중 하나가 인공지능(AI)라는 것은 모두 동의할 것이다. SXSW 2010년 행사에서 Douglas Rushkoff는 프로그래밍 하느냐 프로그래밍 되느냐(Program or be Programmed) [@rushkoff2010program] 라는 표현을 통해서 일자리에 대한 위험을 경고했을 뿐만 아니라 앞으로의 성장에 대해서도 방향을 제시하였다는 평가를 받고 있다. R&D도 이러한 변화의 물결에서 자유로울 수 없고, 인공지능을 이해하지 않고 현재와 미래를 살아가는 것은 마치 산업화 시대에 글과 숫자를 이해하지 못하고 산업화시대를 살아간 것에 비견될 수 있다.

고 짐 그레이 박사는 바다에서 실종되기 전에 데이터 집약 과학[@hey2009fourth]이 앞으로 가장 중요한 과학방법론이 될 것이라고 주장했으며 그의 주장은 현실로 나가왔다. 모든 과학에서 데이터는 기하급수적으로 증가하고 있고, 거의 모든 과학은 데이터 주도(Data-driven) 현상이 나타나고 있다. 물리학과 생명과학이 통계와 컴퓨터 과학의 빅데이터를 통한 수렴현상도 심심치 않게 볼 수 있다.

- 실증 과학(Empirical Science): 수천년에 걸쳐 자연현상을 실증 과학의 시대.
- 이론 과학(Theoretical Science): 수백년에 걸쳐 모형과 일반화를 통한 이론 과학의 시대.
- 계산 과학(Computational Science): 수십년에 결쳐 복잡한 현상을 모의실험을 컴퓨터를 사용한 계산 과학 시대.
- 데이터 집약 과학(Data-Intensive Science): 현재는 이론, 실험, 통계를 사용한 계산 결과를 통합하는 데이터 집약 과학 시대.

![](fig/ai-lab-4th-paradigm.png)

과학이 가정-주도(Hypothesis-Driven) 에서 데이터-주도(Data-Driven) 발견으로 급격히 이동하면서 전혀 새로운 도전에 직면하고 있다. 통상, 데이터를 수집하고, 발견과 분석을 수행하고 이를 발표하는 과정을 거친다. 하지만, 기하급수적으로 증가하는 데이터에 의해 다양한 도전과제가 산적해 있다. 과거에는 데이터를 수집하고 분석과 발견 과정을 거쳐서 출판 게시했다면, 다양하고 휘발성이 강하고 매우 큰 데이터를 수집하고 나서 인터넷에 게시하여 공개하면 데이터 분석과 탐색을 통해 정보를 추출하고 모형을 개발하는 것으로 과정이 변경되고 있다.

- 기하급수적인 데이터 증가: 분산된 환경에서 데이터 수집과 급증하는 데이터 크기.
- 새로운 분석 패러다임: 데이터 연합체와 데이터 분석으로 이동.
- 새로운 게시 패러다임: 과학자가 점점 출판업자와 전시 책임자같은 큐레이터와 같이 되어감.


# 사고체계의 전환

카네기멜론 대학 쟈넷 윙(Wing) 교수[@wing2006computational]가 이론적 사고(Theoretical Thinking), 실험적 사고(Experimental Thinking)와 더불어 컴퓨터적 사고(Computational Thinking)가 향후 인간의 사고 체제를 지배하는 중추적인 역할을 할 것이라고 주장했다. 산업혁명이 일어난 이후 산업, 즉 공장에서 필요한 인력을 육성하고 공급하기 위해서 수학과 공학을 초중등 과정에서 집중적으로 교육하였으며 이러한 전통이 지금까지 이어져 국내 및 전세계 누구나 이론적 사고체계는 익숙하고 친숙하다. 공장 컨베이어 벨트 시스템을 통해서 생산되는 제품을 생각하면 왜 이론적 사고체계가 훌륭한 밑바탕이 되는지 어렵지 않게 이해할 수 있다.
통계가 근간을 이루는 실험적 사고는 스몰 데이터(Small Data)를 일부 초중등 과정에서 일부 기본적인 개념을 배우고 있지만, 학교를 졸업하고 현실에서 많이 접하게 되고 필수적인 것임에도 통계에 대한 충분한 교육 및 훈련을 받지 못하고 사회에 진출하고 있는 것도 사실이다. 이러는 와중에 빅데이터(Big Data)가 10년도 되지 않는 짧은 시간에 성급 우리곁에 다가왔다. 그리고, 매일 사용하는 컴퓨터가 회사 컴퓨터로, 가정용 컴퓨터로, 그리고 개인 호주머니 속으로 들어오면서 추상화(Abstraction)와 자동화(Automation)가 근간을 이루는 컴퓨터적 사고도 내재화하여 업무에 적용하는 것을 절실히 요구하고 있다.

<img src="fig/korea-development-stages.png" alt="창조경제의 개념과 성공조건 그리고 세가지 사고체계" width="77%" />

# 데이터 과학

이세돌 9단이 2016년 4월 딥마인드에서 제작한 알파고에 의해 패배를 하면서 한국사회는 인공지능(AI)에 폭발적인 관심을 가지게 되었고 통계학도 예외는 아니다. 알파고가 차용한 기술은 딥러닝 기술이고 딥러닝(Deep Learning, DL) 기술은 기계학습(Machine Learning, ML)을 구성하는 일부이며, 기계학습도 인공지능의 일부다. 기계학습도 회귀모형과 수학적인 공통기반을 갖고 있다는 점에서 통계학과 깊은 관련을 맺고 있다. 따라서, ML/DL 예측모형도 데이터 사이언스의 탄탄한 이론적인 토대없이는 지속적인 발전에 한계가 있다.

최근 인기를 얻고 있는 기계학습(Machine Learning)이나 인공지능(AI)과는 별개로 몇년 전부터 RStudio의 해들리 위컴(Hadley Wickham) 박사는 tidyverse을 통해 데이터 사이언스를 새롭게 정의하는 시도를 하였고 많은 이론 통계학자와 실무자로부터 호응을 얻고 있었다. 이러한 기여를 인정받아 얼마전 통계학의 노벨상이라고 불리는 COPSS 상을 해들리 위컴이 수상하면서 순수 이론 중심의 통계학도 데이터 사이언스를 적극 포용하는 시작을 공식적으로 알리는 계기가 되었다.

![tidyverse 운영체제](fig/tidyvese_os.png){#id .class width=50% height=50%}

`tidyverse`의 핵심적인 내용[@wickham2019welcome]은 다양한 형태의 데이터를 가져와서 최종 산출물을 사람과 기계가 커뮤니케이션할 수 있는 형태로 제작하는 과정을 추상화한 것으로 이해할 수 있다. 
시각화(Visualization)는 데이터에 대한 통찰력(insight)과 탄성, 놀라움을 줄 수 있지만, 확장성(Scalability) 측면에서는 한계가 명확히 존재하게 되는데 이는 사람이 작업흐름 루프에 포함되기 때문이다. 
반대로 모형(Model)은 자동화와 확장성에는 장점이 있지만, 주어진 모형틀 안에서만 이뤄지기 때문에 통찰력, 놀라움, 탄성을 주지는 못하는 아쉬움이 있다.
따라서, `tidyverse`는 시각화와 모형을 통해 통찰력과 함께 자동화에 대한 부분도 충분히 반영한 체계적인 작업흐름을 제시하고 있는데, 이를 관통하는 핵심적인 개념이 파이프(pipe)로 이미 이런 개념은 유닉스 파이프 연산자를 통해 검증되었다. 

![Tidyverse 데이터 사이언스 작업흐름](fig/maso_tidyverse.png){#id .class width=100%}

# 텍스트 데이터 자원

캐글 2017년 설문조사를 통해 과학자가 다루는 원천 데이터 유형의 유형을 유추할 수 있다. 
전통적으로 다양한 실험결과를 통계팩키지를 통해 유의성을 검증하고 모형과 시각화를 위해서 직사각형 데이터프레임 데이터가
주를 이뤘다면 자연어 처리(NLP)를 위한 텍스트 데이터가 과반을 넘게 차지하고 있고 기타 데이터로 이미지/동영상, 지리정보, 네트워크 등이 포함된다.

|  원천 데이터   | 응답모수 | 응답자 | 비율 |
|----------------|--------|-------|---------|
| 관계형 데이터 | 8,024  | 5,256  | 65.50 % |
| 텍스트 데이터 | 8,024  | 4,255  | 53.02 % |
| 이미지 데이터 | 8,024  | 1,456  | 18.14 % |
| 기타          | 8,024  |   823  | 10.25 % |
| 비디오 데이터 | 8,024  |   409  |  5.09 % |


# R&D 논문 저작

논문과 책, 보고서 제작하는 과정은 워드 프로세스를 기본으로 두고, 숫자 계산이 필요하면 엑셀, 이미지가 필요하면 그래픽 전문 소프트웨어, 정보 검색도 웹브라우져를 사용한다. 글자, 단어, 문장, 문단, 장/절/항으로 생각의 단위를 서문, 본문, 결어 및 참고문헌, 주석, 그림, 그래프, 도표 등도 함께 체계적으로 작성해 나갔다.

다양한 소프트웨어를 통해서 원고를 탈고하게 되면 서식, 문장 문단 모양, 색인, 참조문헌 등 보기 좋고 가독성 높은 형태로 외양을 입히는 과정을 거치게 되는데 이 과정도 소프트웨어가 핵심적인 역할을 하게 된다. 책과 보고서에 대한 디자인 작업이 완료되면 다양한 형태로 배포하기 위한 프로그래밍 과정을 거쳐 PDF, 전자책(ePUB), 웹(HTML), 출판책 형태로 R&D 성과물을 배포했다.

컴퓨팅 사고력과 데이터 과학 기반으로 글쓰기 문제 해결을 실천하는 것은 코딩이다. 워드프로세서나 엑셀 등 특정 목적에 최적화된 소프트웨어 도구를 사용해서 특정 목적을 달성하는 것이 좋은 접근법이였다면, 데이터 집중 과학 결과를 논문과 책, 보고서에 담기 위해서는 수식은 $LaTeX$, 서지관리는 `bibtex`, 문서 저작은 마크다운(Markdown), 그래프를 포함한 시각화는  그래프 문법(Grammar of Grpahics), 데이터 분석과 모형을 위한 데이터 과학 코드는 R 혹은 파이썬, 재현가능한 과학을 위한 관리를 위해 코드는 Git, 협업은 GitHub, 컴퓨팅 환경은 도커(Docker) 등을 사용한다. 출판, PDF, 전자책(ePub), 웹(HTML) 배포는 DevOps 파이프라인을 구축하여 팬독(Pandoc)을 사용해서 연구자의 수작업이 아닌 명령라인 인터페이스(Command Line Interface, CLI)를 통해 One Source Multi-Use 방식으로 연구자는 소스코드만 관리하여 재현성의 문제를 극복할 뿐만 아니라 생산성이라는 두마리 토끼도 함께 잡을 수 있다.

<img src="fig/writing_is_coding.png" width="100%" />

# R&D NLP

# 자연어 처리

최근 한국에서 업무 자동화로 대표되는 RPA(Robotic Process Automation)를 넘어서 NLP(Natural Language Processing)으로 AI로 폭넓게 회자되던 개념이 구체화되어 실질적으로 우리곁으로 다가서고 있다. RPA는 소프트웨어 봇 또는 인공지능(AI) 워커(worker)의 개념에 기반을 두고 있으며 사용자가 GUI로 수행했던 작업을 백그라운드에서 API와 전용 스크립트 언어를 사용해서 업무를 정확하고 신속하게 자동화하고 있다. RPA가 정형화되고 검증된 업무 흐름을 로봇을 사용해서 자동화시켜 사람으로 치면 쉬지 않고 손과 발이 되어 업무를 수행했다면 이제 손과 발에 명령을 내리는 머리에 해당되는 영역을 NLP 자연어 처리 기술이 이를 빠르게 대체하고 있다.

한걸음 더 들어가면 규칙기반 “Rule Engine”은 검증이 완료되어 일상화되고 있다면 현제는 학습기반 단계에 진입하여 프로세스에 대한 자동화 범위 확대와 성과를 가시화하고 있다. 규칙 엔진(Rule Engine)은 정형데이터 및 정형화된 업무 분석을 근간으로 스크립트 언어로 빠르게 현업에 적용시킬 수 있는 업무흐름 자동화 소프트웨어를 개발할 수 있다. 반면 NLP 자연어 처리 기술은 일단 종이나 화면에 출력된 이미지 아날로그 정보로부터 디지털 정보로 변환시키는 Digitization 과정이 선행되어야 한다. 이를 위해서 다양한 이미지 전처리 작업과 컴퓨터 비젼 기술 그리고 광학문자판독 (OCR, Optical Character Recognition)이 전제되어야 한다.

현재 상황을 보면, 초고속 인터넷이 보편화되면서 상당히 많은 텍스트 데이터가 이미 Digitization되어 NLP 작업을 위한 준비가 된 반면, 아직도 많은 텍스트 데이터가 종이, 팩스, 포스터, 현수막 등에 갖혀있다. 최근 고성능 스캐너의 보급과 고화질 스마트폰 카메라를 이용한 스캐닝 작업이 일반화되고 딥러닝 기술을 접목한 OCR 엔진이 강력해지고 오픈소스 tesseract 및 클라우드 API(네이버 OCR API, 마이크로소프트 Azure API, 구글 API, AWS API 등)가 저렴하고 사용하기 쉽게 공급되어 Digitization 작업에 활력을 불어넣고 있다.

기업이 준수해야 할 법률 및 행정규제는 10년마다 30% 증가하고 있으며 최근에는 그 증가폭이 가파르게 상승하고 있으며 단순하게 문서에 담긴 최빈 단어를 보는 수준만으로 전체적인 맥락을 이해하는 것은 불가능할 정도로 복잡성도 함께 커지고 있다.

자연어처리(NLP)는 인공지능(AI) 기술의 한 축을 담당하고 있으며, 텍스트 분류, 텍스트 요약, 문서 유사성 측정, 자연어 텍스트 생성, 번역, 음성 인식 등 다양한 기술을 아우르고 있다. 자연어 처리는 계약서를 포함한 법률, 행정규제 문서 모두 다소 차이는 날 수 있지만 필요부분믕ㄹ 추려서 데이터 분석에 적합한 형태로 말뭉치(corpus) 수집 및 구축, 불용어 처리 및 토큰화로 대표되는 전처리 과정, 기계학습 모형 설계, 학습, 모형 검증을 포함한 딥러닝 모형 구축 과정, 마지막으로 딥러닝 기계학습 모형 성능 평가 후 서비스 구현 과정을 거치게 된다.

자연어 처리 기계모형이 장착된 RPA는 법률, 규제 문서 내용을 수집, 이해, 해석하여 문서에 담긴 법률, 행정 조건을 분석하여 회사 및 기관에 손실을 유발할 수 있는 불균형한 조건이 존재하는 곳을 식별하는 것은 물론이고 수정될 내용을 추천하는 유연한 기능을 전문가와 비교하여 차이가 없거나 경우에 따라서는 더 좋은 성능을 보여주기도 한다.

이를 위해서 문서 읽기가 가장 먼저 수반되고 다양한 문서를 Digitization을 통해 읽어 기계가 후속 작업이 가능한 형태로 디지털화한다. 아날로그 문서에 추출된 텍스트는 기본적인 자연어 처리 기능을 통해서도 사전에 정의된 규칙을 현재 법률 조항이나 행정규제 사항과 대조하여 규정준수 여부를 파악할 수 있다. 자연어 처리 딥러닝 모형이 장착된 경우는 한걸음 더 나아가 기관에 적용된 정책, 규정, 규칙을 활용하여 기관별로 특화된 평가기준을 바탕으로 구조화된 형태의 데이터로 만들어낸 후, 재무적 손실을 유발할 수 있는 내용도 식별하여 정량화시킬 수도 있다. 최근 개발되고 있는 AI 시스템은 문서에 담긴 규제 및 법률조건에 대한 분석에 기반하여 인지기반 의사결정도 지원하여 불균형한 조건이 존재하는 곳을 자동으로 식별하고 수정 권장사항 추천한다.

법률 준수 및 행정 규제관련 업무를 수행하는 담당자는 기계가 대신하여 법률 행정문서 조항을 분석하고 질문에 대해 즉각적인 대답을 제시함으로써 업무상 불필요한 시간소모를 줄이는 것은 물론이고, 기관에서 일상적으로 작성하는 행정 규제문서를 자동 생성, 검증함으로써 업무 정확도 향상과 효과성 측면에서도 많은 기여를 하고 있다. 특히, 단어와 구문, 토픽(topic)을 통해 추출한 정보를 네트워크 시각화 분석과 결합하여 제시할 경우 문제 상황에 대한 정확한 파악은 물론이고 집필자의 의도까지 예측하는데 도움을 주고, 법률, 판례 및 연관 행정규제를 포함한 2차 정보까지 실시간으로 제공하고 있다.

## 광학 문자 판독(OCR)

## 딥러닝 자연어 처리


# 마무리






